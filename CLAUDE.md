# CLAUDE.md

This file provides guidance to Claude Code (claude.ai/code) when working with code in this repository.

## Project Overview

docxside-pdf is a Rust library for converting DOCX files to PDF with the goal of matching Microsoft Word's PDF export as closely as possible. The project is in early development.

## Common Commands

```bash
# Build the library
cargo build

# Run tests
cargo test

# Run a specific test
cargo test test_name

# Build in release mode
cargo build --release

# Check code without building
cargo check

# Format code
cargo fmt

# Run linter
cargo clippy
```

## Architecture

The project aims to:
1. Parse DOCX (Office Open XML) format
2. Render to PDF following Word's layout and formatting rules
3. Test against real-world DOCX files with Word-generated reference PDFs
4. Use visual comparison testing for pixel-level accuracy verification

Testing strategy emphasizes:
- Large corpus of diverse DOCX files
- Reference PDFs generated by MS Word
- Visual diff testing via image conversion

## Reference Material

The repository includes:
- `ISO_32000-2_sponsored-ec2.pdf` - PDF specification reference
- PDF spec is ingested into local RAG system at `/Users/sverrejb/specs/pdf-spec.pdf` for semantic search queries about PDF internals
- Office Open XML spec is ingested into local RAG system at `/Users/sverrejb/specs/office.pdf` for semantic search queries about DOCX format and WordprocessingML

**IMPORTANT**: Always use the `mcp__local-rag__query_documents` tool to search the specs when you need information about PDF internals, DOCX format, or WordprocessingML. The specs contain authoritative technical details that are essential for correct implementation.

## Development Notes

- Rust edition: 2024
- Currently contains only placeholder code (single `add` function)
- No dependencies defined yet in Cargo.toml
